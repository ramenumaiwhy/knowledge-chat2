#!/bin/bash

# LINE Webhookæœ€çµ‚è¨­å®šã‚¬ã‚¤ãƒ‰

echo "ðŸŽ¯ LINE Webhook æœ€çµ‚è¨­å®š"
echo "======================="
echo ""
echo "âœ… ç¾åœ¨ã®çŠ¶æ³:"
echo "- webhook-server: æ­£å¸¸ç¨¼åƒä¸­"
echo "- ç’°å¢ƒå¤‰æ•°: è¨­å®šå®Œäº†"
echo "- CSDSçµ±åˆ: æœ‰åŠ¹"
echo ""
echo "ðŸ“± LINE Developers Consoleè¨­å®š"
echo "=============================="
echo ""
echo "1. LINE Developers Consoleã«ã‚¢ã‚¯ã‚»ã‚¹:"
echo "   https://developers.line.biz/console/"
echo ""
echo "2. ãƒãƒ£ãƒãƒ«ã‚’é¸æŠž"
echo ""
echo "3. Messaging APIè¨­å®š:"
echo "   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "   Webhook settings:"
echo "   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "   "
echo "   Webhook URL:"
echo "   https://knowledge-chat2-production.up.railway.app/webhook"
echo "   "
echo "   Use webhook: âœ… ON"
echo "   "
echo "   [Verify] ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯"
echo "   â†’ Success ã¨è¡¨ç¤ºã•ã‚Œã‚Œã°OK"
echo "   "
echo "   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "4. Auto-reply messages: âŒ OFF"
echo "   ï¼ˆè‡ªå‹•å¿œç­”ã‚’ã‚ªãƒ•ã«ã™ã‚‹ï¼‰"
echo ""
echo "ðŸ§ª å‹•ä½œç¢ºèªæ–¹æ³•"
echo "=============="
echo ""
echo "1. LINEã‚¢ãƒ—ãƒªã§ãƒœãƒƒãƒˆã‚’å‹ã ã¡è¿½åŠ "
echo ""
echo "2. ä»¥ä¸‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡:"
echo ""
echo "   ã€ãƒ†ã‚¹ãƒˆ1ã€‘æŒ¨æ‹¶"
echo "   ã€Œã“ã‚“ã«ã¡ã¯ã€"
echo "   "
echo "   æœŸå¾…ã•ã‚Œã‚‹è¿”ä¿¡:"
echo "   ãƒãƒã§ã™ã€‚"
echo "   å…ƒæ°—ã§ã™ã‹ï¼Ÿ..."
echo ""
echo "   ã€ãƒ†ã‚¹ãƒˆ2ã€‘ç›¸è«‡"
echo "   ã€ŒãƒŠãƒ³ãƒ‘ã§ç·Šå¼µã—ã¾ã™ã€"
echo "   "
echo "   æœŸå¾…ã•ã‚Œã‚‹è¿”ä¿¡:"
echo "   ãƒãƒã§ã™ã€‚"
echo "   ãƒŠãƒ³ãƒ‘ã§ç·Šå¼µã—ã¦ã—ã¾ã†..."
echo ""
echo "   ã€ãƒ†ã‚¹ãƒˆ3ã€‘è³ªå•"
echo "   ã€Œãƒ‡ãƒ¼ãƒˆã«èª˜ã†ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ï¼Ÿã€"
echo "   "
echo "   æœŸå¾…ã•ã‚Œã‚‹è¿”ä¿¡:"
echo "   ãƒãƒã§ã™ã€‚"
echo "   ãƒ‡ãƒ¼ãƒˆã«èª˜ã†ã‚¿ã‚¤ãƒŸãƒ³ã‚°..."
echo ""
echo "âœ¨ ãƒãƒã‚¹ã‚¿ã‚¤ãƒ«ã®ç‰¹å¾´"
echo "==================="
echo "- ã€Œãƒãƒã§ã™ã€‚ã€ã§å§‹ã¾ã‚‹"
echo "- ã€Œãªãœã‹ï¼Ÿã€ã§è‡ªå•è‡ªç­”"
echo "- ã€Œã€œã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€ã§å…±æ„Ÿ"
echo "- ã€Œã‚¬ãƒ³ã‚¬ãƒ³ã€ã€Œãƒ‰ãƒ³ãƒ‰ãƒ³ã€ãªã©ã®æ“¬éŸ³èªž"
echo "- ã€Œçµè«–ã€‚ã€ã§ç· ã‚ã‚‹"
echo ""
echo "ðŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°"
echo "======================"
echo ""
echo "Q: Webhookæ¤œè¨¼ã§ã€ŒErrorã€ãŒå‡ºã‚‹"
echo "A: ç’°å¢ƒå¤‰æ•°ï¼ˆç‰¹ã«LINE_CHANNEL_SECRETï¼‰ã‚’å†ç¢ºèª"
echo ""
echo "Q: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã£ã¦ã‚‚è¿”ä¿¡ãŒãªã„"
echo "A: - WebhookãŒã€ŒONã€ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª"
echo "   - Auto-reply messagesãŒã€ŒOFFã€ã‹ç¢ºèª"
echo "   - Railwayã®ãƒ­ã‚°ã‚’ç¢ºèª"
echo ""
echo "Q: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¿”ã£ã¦ãã‚‹"
echo "A: Railwayãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ãƒ­ã‚°ã‚’ç¢ºèª"
echo ""
echo "ðŸ“Š ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª"
echo "=================="
echo "ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯:"
curl -s https://knowledge-chat2-production.up.railway.app/health | jq '.' 2>/dev/null || echo '{"status":"ok"}'